(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(9),r=n.n(c),s=(n(85),n(17)),l=n(18),o=n(20),d=n(19),j=n(30),h=n(11),b=n(75),u=n(33),m=n(21),p=n.n(m),O=n(151),g=n(152),x=n(1),f=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={clientsContent:[],employeesContent:[],productsContent:[],invoiceData:[],clientID:"",employeeID:"",products:[]},a.handleChangeClient=a.handleChangeClient.bind(Object(u.a)(a)),a.handleChangeEmployee=a.handleChangeEmployee.bind(Object(u.a)(a)),a.handleChangeProduct=a.handleChangeProduct.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/products/").then((function(t){var n=t.data;e.setState({productsContent:n})})),p.a.get("/api/clients/").then((function(t){var n=t.data;e.setState({clientsContent:n}),e.setState({clientID:e.state.clientsContent[0]._id})})),p.a.get("/api/employees/").then((function(t){var n=t.data;e.setState({employeesContent:n}),e.setState({employeeID:e.state.employeesContent[0]._id})}))}},{key:"handleChangeClient",value:function(e){var t=e.target.value;this.setState({clientID:t})}},{key:"handleChangeEmployee",value:function(e){var t=e.target.value;this.setState({employeeID:t})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new Date,n=t.getUTCMonth()+1,a=t.getUTCDate(),i=t.getUTCFullYear()+"-"+n+"-"+a,c={client:this.state.clientID,employee:this.state.employeeID,products:this.state.products,dateOfPurchase:i};fetch("api/invoices/",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",JSON.stringify(e))})).then(alert("Sale made!")).catch((function(e){return console.error("Error:",e)}))}},{key:"unDuplicateArrayObjects",value:function(e,t){return e&&Array.isArray(e)&&0!==e.length&&t?function(e){return e&&Array.isArray(e)&&0!==e.length?Object(b.a)(new Set(e)):e}(e.map((function(e){return e[t]}))).map((function(n){return e.find((function(e){return e[t]===n}))})):e}},{key:"handleChangeProduct",value:function(e,t){var n=this.state.products;n.push({_id:e,quantity:t.target.value}),n=this.unDuplicateArrayObjects(n,"_id"),this.setState({products:n})}},{key:"render",value:function(){var e=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Register a sale"}),Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsxs)("div",{className:"select-css",children:[Object(x.jsxs)("label",{children:["Select a client:",Object(x.jsx)("select",{className:"select-css",value:this.state.clientID,onChange:this.handleChangeClient,children:this.state.clientsContent.map((function(e){return Object(x.jsxs)("option",{value:e._id,children:[e.firstName," ",e.lastname," - DNI: ",e.dni]},e._id)}))})]}),Object(x.jsx)("span",{children:"         "}),Object(x.jsxs)("label",{children:["Select an employee:",Object(x.jsx)("select",{value:this.state.employeeID,onChange:this.handleChangeEmployee,children:this.state.employeesContent.map((function(e){return Object(x.jsxs)("option",{value:e._id,children:[e.firstName," ",e.lastname," - DNI: ",e.dni]},e._id)}))})]})]}),this.state.productsContent.map((function(t){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("li",{children:["Name: ",t.name," - Brand: ",t.brand," - Price: ",t.price," -",Object(x.jsx)(O.a,{id:"standard-number",name:"quantity",defaultValue:0,type:"number",onChange:function(n){return e.handleChangeProduct(t._id,n)}})]},t._id)})})),Object(x.jsx)("div",{className:"invoice-button",children:Object(x.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",children:"Make sale"})})]})]})}}]),n}(i.a.Component),y=n(142),v=n(144),C=n(148),N=n(147),D=n(143),S=n(145),I=n(146),F=n(141),P=Object(y.a)({table:{minWidth:800}}),E=function(e){var t=e.invoices,n=P();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(D.a,{component:F.a,children:Object(x.jsxs)(v.a,{className:n.table,"aria-label":"simple table",children:[Object(x.jsx)(S.a,{children:Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{align:"center",children:"Client "}),Object(x.jsx)(N.a,{align:"center",children:"Employee"}),Object(x.jsx)(N.a,{align:"center",children:"Products"}),Object(x.jsx)(N.a,{align:"center",children:"Date of Pruchase"}),Object(x.jsx)(N.a,{align:"center",children:"Total Price"}),Object(x.jsx)(N.a,{align:"center",children:"Print Invoice"})]})}),Object(x.jsx)(C.a,{children:t.map((function(e){return Object(x.jsxs)(I.a,{children:[Object(x.jsxs)(N.a,{align:"left",children:[Object(x.jsxs)("li",{children:["Full name: ",e.client.firstName," ",e.client.lastName]}),Object(x.jsxs)("li",{children:["DNI: ",e.client.dni]}),Object(x.jsxs)("li",{children:["DoB: ",e.client.dob]}),Object(x.jsxs)("li",{children:["Age: ",e.client.age]}),Object(x.jsxs)("li",{children:["Credit Card: ",e.client.creditCard]})]}),Object(x.jsxs)(N.a,{align:"left",children:[Object(x.jsxs)("li",{children:["Full name: ",e.employee.firstName," ",e.employee.lastName]}),Object(x.jsxs)("li",{children:["DNI: ",e.employee.dni]}),Object(x.jsxs)("li",{children:["DoB: ",e.employee.dob]}),Object(x.jsxs)("li",{children:["Age: ",e.employee.age]}),Object(x.jsxs)("li",{children:["Employee ID: ",e.employee.employeeID]})]}),Object(x.jsx)(N.a,{align:"left",children:e.products.map((function(e){return Object(x.jsxs)("li",{children:[e.product.name," (",e.quantity,")"]},e.product._id)}))}),Object(x.jsx)(N.a,{align:"center",children:e.dateOfPurchase}),Object(x.jsx)(N.a,{align:"center",children:e.totalPrice.toFixed(2)}),Object(x.jsx)(N.a,{align:"center",children:Object(x.jsx)("a",{href:"/api/invoices/".concat(e._id,"/pdf"),children:"Print Invoice"})})]},e._id)}))})]})})})},k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={invoicesContent:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/invoices/").then((function(t){var n=t.data;console.log(n),e.setState({invoicesContent:n})}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Invoices"}),Object(x.jsx)(E,{invoices:this.state.invoicesContent})]})}}]),n}(i.a.Component),T=Object(y.a)({table:{minWidth:800}}),A=function(e){var t=e.products,n=T();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"List of Products"}),Object(x.jsx)(D.a,{component:F.a,children:Object(x.jsxs)(v.a,{className:n.table,"aria-label":"simple table",children:[Object(x.jsx)(S.a,{children:Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{children:"Name "}),Object(x.jsx)(N.a,{align:"right",children:"Brand"}),Object(x.jsx)(N.a,{align:"right",children:"Expiration date"}),Object(x.jsx)(N.a,{align:"right",children:"Price"}),Object(x.jsx)(N.a,{align:"right",children:"Supplier"})]})}),Object(x.jsx)(C.a,{children:t.map((function(e){return Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{component:"th",scope:"row",children:e.name}),Object(x.jsx)(N.a,{align:"right",children:e.brand}),Object(x.jsx)(N.a,{align:"right",children:e.expirationDate}),Object(x.jsx)(N.a,{align:"right",children:e.price}),Object(x.jsx)(N.a,{align:"right",children:e.supplier})]},e._id)}))})]})})]})},L=n(27),V=n(25),w=n(36),_=n(149),B=n(150);function J(e){var t=Object(y.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),n=Object(a.useReducer)((function(e,t){return Object(V.a)(Object(V.a)({},e),t)}),{name:"",brand:"",expirationDate:"",price:0,supplier:""}),i=Object(w.a)(n,2),c=i[0],r=i[1],s=function(e){var t=e.target.name,n=e.target.value;r(Object(L.a)({},t,n))},l=t();return Object(x.jsx)("div",{children:Object(x.jsxs)(F.a,{className:l.root,children:[Object(x.jsx)(_.a,{variant:"h5",component:"h3",children:"Add Product to Database"}),Object(x.jsx)(_.a,{component:"p",children:"Use this form to add a new product to the database"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={formInput:c};fetch("/api/products/",{method:"POST",body:JSON.stringify(t.formInput),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",JSON.stringify(e))})).catch((function(e){return console.error("Error:",e)}))},children:[Object(x.jsx)(O.a,{label:"Name",id:"margin-normal",name:"name",defaultValue:c.name,className:l.textField,helperText:"Enter product name",onChange:s}),Object(x.jsx)(O.a,{label:"Brand",id:"margin-normal",name:"brand",defaultValue:c.brand,className:l.textField,helperText:"Enter brand name",onChange:s}),Object(x.jsx)(O.a,{id:"date",label:"Expiration date",name:"expirationDate",type:"date",defaultValue:c.expirationDate,className:l.textField,InputLabelProps:{shrink:!0},onChange:s}),Object(x.jsx)(O.a,{label:"Supplier",id:"margin-normal",name:"supplier",defaultValue:c.supplier,className:l.textField,helperText:"Enter supplier name",onChange:s}),Object(x.jsx)(O.a,{label:"Price",id:"standard-number",name:"price",defaultValue:c.price,type:"number",className:l.textField,onChange:s}),Object(x.jsxs)(g.a,{type:"submit",variant:"contained",color:"primary",className:l.button,children:["Add product ",Object(x.jsx)(B.a,{className:l.rightIcon,children:"send"})]})]})]})})}var R=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={productsContent:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/products/").then((function(t){var n=t.data;e.setState({productsContent:n})}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Products"}),Object(x.jsx)(J,{}),Object(x.jsx)(A,{products:this.state.productsContent})]})}}]),n}(i.a.Component),M=Object(y.a)({table:{minWidth:800}}),W=function(e){var t=e.clients,n=M();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"List of Clients"}),Object(x.jsx)(D.a,{component:F.a,children:Object(x.jsxs)(v.a,{className:n.table,"aria-label":"simple table",children:[Object(x.jsx)(S.a,{children:Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{align:"right",children:"First Name "}),Object(x.jsx)(N.a,{align:"right",children:"Last Name"}),Object(x.jsx)(N.a,{align:"right",children:"DNI"}),Object(x.jsx)(N.a,{align:"right",children:"Date of Birth"}),Object(x.jsx)(N.a,{align:"right",children:"Age"}),Object(x.jsx)(N.a,{align:"right",children:"Credit Card Number"})]})}),Object(x.jsx)(C.a,{children:t.map((function(e){return Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{component:"th",scope:"row",children:e.firstName}),Object(x.jsx)(N.a,{align:"right",children:e.lastName}),Object(x.jsx)(N.a,{align:"right",children:e.dni}),Object(x.jsx)(N.a,{align:"right",children:e.dob}),Object(x.jsx)(N.a,{align:"right",children:e.age}),Object(x.jsx)(N.a,{align:"right",children:e.creditCard})]},e._id)}))})]})})]})};function U(e){var t=Object(y.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),n=Object(a.useReducer)((function(e,t){return Object(V.a)(Object(V.a)({},e),t)}),{firstName:"",lastName:"",dni:0,dob:"",age:0,creditCard:0}),i=Object(w.a)(n,2),c=i[0],r=i[1],s=function(e){var t=e.target.name,n=e.target.value;r(Object(L.a)({},t,n))},l=t();return Object(x.jsx)("div",{children:Object(x.jsxs)(F.a,{className:l.root,children:[Object(x.jsx)(_.a,{variant:"h5",component:"h3",children:"Add Client to Database"}),Object(x.jsx)(_.a,{component:"p",children:"Use this form to add a new client to the database"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={formInput:c};fetch("/api/clients/",{method:"POST",body:JSON.stringify(t.formInput),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",JSON.stringify(e))})).catch((function(e){return console.error("Error:",e)}))},children:[Object(x.jsx)(O.a,{label:"First Name",id:"margin-normal",name:"firstName",defaultValue:c.firstName,className:l.textField,helperText:"Enter first name",onChange:s}),Object(x.jsx)(O.a,{label:"Last Name",id:"margin-normal",name:"lastName",defaultValue:c.lastName,className:l.textField,helperText:"Enter last name",onChange:s}),Object(x.jsx)(O.a,{id:"date",label:"Date of Birth",name:"dob",type:"date",defaultValue:c.dob,className:l.textField,InputLabelProps:{shrink:!0},onChange:s}),Object(x.jsx)(O.a,{label:"DNI",id:"standard-number",name:"dni",defaultValue:c.dni,type:"number",className:l.textField,onChange:s}),Object(x.jsx)(O.a,{label:"Age",id:"standard-number",name:"age",defaultValue:c.age,type:"number",className:l.textField,onChange:s}),Object(x.jsx)(O.a,{label:"Credit Card Number",id:"standard-number",name:"creditCard",defaultValue:c.creditCard,type:"number",className:l.textField,onChange:s}),Object(x.jsxs)(g.a,{type:"submit",variant:"contained",color:"primary",className:l.button,children:["Add client ",Object(x.jsx)(B.a,{className:l.rightIcon,children:"send"})]})]})]})})}var q=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={clientsContent:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/clients/").then((function(t){var n=t.data;e.setState({clientsContent:n})}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Clients"}),Object(x.jsx)(U,{}),Object(x.jsx)(W,{clients:this.state.clientsContent})]})}}]),n}(i.a.Component),z=Object(y.a)({table:{minWidth:800}}),Y=function(e){var t=e.employees,n=z();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"List of Employees"}),Object(x.jsx)(D.a,{component:F.a,children:Object(x.jsxs)(v.a,{className:n.table,"aria-label":"simple table",children:[Object(x.jsx)(S.a,{children:Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{align:"right",children:"First Name "}),Object(x.jsx)(N.a,{align:"right",children:"Last Name"}),Object(x.jsx)(N.a,{align:"right",children:"DNI"}),Object(x.jsx)(N.a,{align:"right",children:"Date of Birth"}),Object(x.jsx)(N.a,{align:"right",children:"Age"}),Object(x.jsx)(N.a,{align:"right",children:"Employee ID"})]})}),Object(x.jsx)(C.a,{children:t.map((function(e){return Object(x.jsxs)(I.a,{children:[Object(x.jsx)(N.a,{component:"th",scope:"row",children:e.firstName}),Object(x.jsx)(N.a,{align:"right",children:e.lastName}),Object(x.jsx)(N.a,{align:"right",children:e.dni}),Object(x.jsx)(N.a,{align:"right",children:e.dob}),Object(x.jsx)(N.a,{align:"right",children:e.age}),Object(x.jsx)(N.a,{align:"right",children:e.employeeID})]},e._id)}))})]})})]})};function G(e){var t=Object(y.a)((function(e){return{button:{margin:e.spacing(1)},leftIcon:{marginRight:e.spacing(1)},rightIcon:{marginLeft:e.spacing(1)},iconSmall:{fontSize:20},root:{padding:e.spacing(3,2)},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:400}}})),n=Object(a.useReducer)((function(e,t){return Object(V.a)(Object(V.a)({},e),t)}),{firstName:"",lastName:"",dni:0,dob:"",age:0,employeeID:0}),i=Object(w.a)(n,2),c=i[0],r=i[1],s=function(e){var t=e.target.name,n=e.target.value;r(Object(L.a)({},t,n))},l=t();return Object(x.jsx)("div",{children:Object(x.jsxs)(F.a,{className:l.root,children:[Object(x.jsx)(_.a,{variant:"h5",component:"h3",children:"Add Employee to Database"}),Object(x.jsx)(_.a,{component:"p",children:"Use this form to add a new employee to the database"}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={formInput:c};fetch("/api/employees/",{method:"POST",body:JSON.stringify(t.formInput),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",JSON.stringify(e))})).catch((function(e){return console.error("Error:",e)}))},children:[Object(x.jsx)(O.a,{label:"First Name",id:"margin-normal",name:"firstName",defaultValue:c.firstName,className:l.textField,helperText:"Enter first name",onChange:s}),Object(x.jsx)(O.a,{label:"Last Name",id:"margin-normal",name:"lastName",defaultValue:c.lastName,className:l.textField,helperText:"Enter last name",onChange:s}),Object(x.jsx)(O.a,{id:"date",label:"Date of Birth",name:"dob",type:"date",defaultValue:c.dob,className:l.textField,InputLabelProps:{shrink:!0},onChange:s}),Object(x.jsx)(O.a,{label:"DNI",id:"standard-number",name:"dni",defaultValue:c.dni,type:"number",className:l.textField,onChange:s}),Object(x.jsx)(O.a,{label:"Age",id:"standard-number",name:"age",defaultValue:c.age,type:"number",className:l.textField,onChange:s}),Object(x.jsx)(O.a,{label:"Employee ID",id:"standard-number",name:"employeeID",defaultValue:c.employeeID,type:"number",className:l.textField,onChange:s}),Object(x.jsxs)(g.a,{type:"submit",variant:"contained",color:"primary",className:l.button,children:["Add employee ",Object(x.jsx)(B.a,{className:l.rightIcon,children:"send"})]})]})]})})}var H=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={employeesContent:[]},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/employees/").then((function(t){var n=t.data;e.setState({employeesContent:n})}))}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Employees"}),Object(x.jsx)(G,{}),Object(x.jsx)(Y,{employees:this.state.employeesContent})]})}}]),n}(i.a.Component),K=function(){return Object(x.jsx)("h1",{children:"404: Page Not Found"})},Q=function(){return Object(x.jsx)("nav",{children:Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/",children:"Sell"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/invoices",children:"Invoices"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/products",children:"Products"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/clients",children:"Clients"})}),Object(x.jsx)("li",{children:Object(x.jsx)(j.b,{to:"/employees",children:"Employees"})})]})})},X=(n(110),function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(x.jsx)(j.a,{children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(Q,{}),Object(x.jsx)("div",{id:"page-body",children:Object(x.jsxs)(h.c,{children:[Object(x.jsx)(h.a,{path:"/",component:f,exact:!0}),Object(x.jsx)(h.a,{path:"/invoices",component:k}),Object(x.jsx)(h.a,{path:"/products",component:R}),Object(x.jsx)(h.a,{path:"/clients",component:q}),Object(x.jsx)(h.a,{path:"/employees",component:H}),Object(x.jsx)(h.a,{component:K})]})})]})})}}]),n}(a.Component)),Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,154)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(X,{})}),document.getElementById("root")),Z()},85:function(e,t,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.9ba6105a.chunk.js.map